<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f7f7f7;
            text-align: center;
        }
        h2 {
            margin-top: 50px;
            font-size: 28px;
            color: #333;
        }
        #exploitButton {
            background-color: #4CAF50;
            color: white;
            padding: 20px 40px;
            font-size: 24px;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        #exploitButton:hover {
            background-color: #45a049;
        }
        h3 {
            margin-top: 20px;
            font-size: 18px;
            color: #555;
            line-height: 1.5;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
    </style>
</head>
<body>
    <div>
        <h2>Hi, Welcome to the ODW exploit page!</h2>
        <!-- Button to trigger the exploit -->
        <button id="exploitButton" onclick="startExploit()">Start the Exploit</button>
    </div>

    <script>
        function showAutoCloseAlert(message, duration = 2000) {
            const alertBox = document.createElement('div');
            alertBox.innerText = message;
            alertBox.style.position = 'fixed';
            alertBox.style.top = '50%';
            alertBox.style.left = '50%';
            alertBox.style.transform = 'translate(-50%, -50%)';
            alertBox.style.backgroundColor = '#fff';
            alertBox.style.padding = '20px';
            alertBox.style.boxShadow = '0 0 10px rgba(0,0,0,0.5)';
            alertBox.style.zIndex = '1000';
            document.body.appendChild(alertBox);
            setTimeout(() => {
                document.body.removeChild(alertBox);
            }, duration);
        }

        function startExploit() {
            showAutoCloseAlert('Checking Chromebook compatibility');

            // Check if the device is a Chromebook
            const userAgent = navigator.userAgent;
            const isChromebook = /CrOS/.test(userAgent);

            // Function to parse Chrome OS version
            function getChromeOSVersion() {
                const match = userAgent.match(/CrOS\s[\w]+\s([\d.]+)/);
                return match ? match[1] : null;
            }

            const chromeOSVersion = getChromeOSVersion();

            // Function to get the board name
            function getBoardName() {
                const boardMatch = userAgent.match(/CrOS\s[\w]+\s[\d.]+\s(\w+)/);
                return boardMatch ? boardMatch[1] : null;
            }

            const boardName = getBoardName();

            // Function to disable all links on the page
            function disableLinks() {
                const links = document.querySelectorAll('a');
                links.forEach(link => {
                    link.href = '#';
                });
            }

            function showWarningAlert() {
                alert('WARNING\n\nBoard names dedede and octopus and a few others only partially work. You are seeing this because you have one of the listed board names.');
            }

            // Check if the user has already been marked for the warning alert
            function shouldShowWarningAlert() {
                const warningStatus = localStorage.getItem('showWarningAlert');
                if (warningStatus === null) {
                    const randomChance = Math.random();
                    if (randomChance < 0.2) {
                        localStorage.setItem('showWarningAlert', 'true');
                        return true;
                    } else {
                        localStorage.setItem('showWarningAlert', 'false');
                        return false;
                    }
                }
                return warningStatus === 'true';
            }

            const minVersion = "82.0.4077.0";
            const maxVersion = "126.0.6478.54";

            console.log('User agent:', userAgent);
            console.log('ChromeOS version:', chromeOSVersion);
            console.log('Board name:', boardName);

            // Wait for 3 seconds
            setTimeout(function() {
                if (isChromebook) {
                    if (boardName === 'dedede' || boardName === 'octopus') {
                        showWarningAlert();
                    } else if (chromeOSVersion < minVersion || chromeOSVersion > maxVersion) {
                        alert('The ChromeOS version is not compatible with this exploit.');
                        disableLinks();
                    } else {
                        if (shouldShowWarningAlert()) {
                            showWarningAlert();
                        } else {
                            showAutoCloseAlert('This device is compatible! Redirecting...', 1000);
                            setTimeout(function() {
                                window.location.href = 'firststep.html';
                            }, 600);
                        }
                    }
                } else {
                    alert('This isn\'t a Chromebook.');
                    disableLinks();
                }
            }, 2000);
        }

        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('exploitButton').addEventListener('click', startExploit);
        });
    </script>
    <h3>So you might know the notorious wh4le exploit, which was fake? Well there is some truth to it, and that is the debug windows feature on ChromeOS. Originally created in v82 to make ChromeOS development easier. Google have tried everything in their power to prevent you from knowing the debug windows feature, but they didn't do anything on Chromebooks so it can't be accessed; they simply disabled it on Chromebooks, but recently they have added extra security and steps to prevent students from accidentally stumbling across the debug windows, and this exploit shows you how to enable and access debug windows, which can be made from Chrome apps or via a browser from a popup with buttons using special scripts to execute stuff as a debug script, which is what makes this possible. Simply follow the steps, if wanting to disable it follow to step 3. The exploit doesn't work with versions v81 and below or v126 and above, doesn't work if it isn't a Chromebook obviously and partially doesn't work if board name is dedede or octopus and a couple others. But enough of me talking, you can now start the exploit.</h3>
</body>
</html>
